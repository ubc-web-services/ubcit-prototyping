/*! formstone v1.0.0 [lightbox.js] 2016-03-20 | MIT License | formstone.it */

!function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition"],a):a(jQuery,Formstone)}(function(a,b){"use strict";function c(){Y=b.$body,Z=a("html, body"),$=b.window.location.hash.replace("#","")}function d(){aa&&i()}function e(a){this.on(U.click,a,h);var b=this.data(Q+"-gallery");!_&&$&&b===$&&(_=!0,this.trigger(U.click))}function f(){j(),this.off(U.namespace)}function g(b,c){b instanceof a&&h.apply(W,[{data:a.extend(!0,{},{$object:b},R,c||{})}])}function h(c){if(!aa){var d=c.data;aa=a.extend({},{visible:!1,gallery:{active:!1},isMobile:b.isMobile||d.mobile,isTouch:b.support.touch,isAnimating:!0,oldContentHeight:0,oldContentWidth:0},d);var e=d.$el,f=d.$object,g=e&&e[0].href?e[0].href||"":"",h=e&&e[0].hash?e[0].hash||"":"",i=(g.toLowerCase().split(".").pop().split(/\#|\?/),e?e.data(Q+"-type"):""),k="image"===i||g.match(d.fileTypes)||"data:image"===g.substr(0,10),l=O(g),n="url"===i||!k&&!l&&"http"===g.substr(0,4)&&!h,p="element"===i||!k&&!l&&!n&&"#"===h.substr(0,1),q="undefined"!=typeof f;if(p&&(g=h),!(k||l||n||p||q))return void(aa=null);if(V.killEvent(c),aa.touch=d.touch&&aa.isMobile&&aa.isTouch,aa.margin*=2,aa.type=k?"image":l?"video":"element",k||l){var s=e.data(Q+"-gallery");s&&(aa.gallery.active=!0,aa.gallery.id=s,aa.gallery.$items=a("a[data-lightbox-gallery= "+aa.gallery.id+"], a[rel= "+aa.gallery.id+"]"),aa.gallery.index=aa.gallery.$items.index(aa.$el),aa.gallery.total=aa.gallery.$items.length-1)}var t="";aa.isMobile||(t+='<div class="'+[S.raw.overlay,aa.theme,aa.customClass].join(" ")+'"></div>');var u=[S.raw.base,S.raw.loading,S.raw.animating,aa.theme,aa.customClass];aa.fixed&&u.push(S.raw.fixed),aa.isMobile&&u.push(S.raw.mobile),aa.isTouch&&u.push(S.raw.touch),n&&u.push(S.raw.iframed),(p||q)&&u.push(S.raw.inline),t+='<div class="'+u.join(" ")+'">',t+='<button type="button" class="'+S.raw.close+'">'+aa.labels.close+"</button>",t+='<span class="'+S.raw.loading_icon+'"></span>',t+='<div class="'+S.raw.container+'">',t+='<div class="'+S.raw.content+'">',(k||l)&&(t+='<div class="'+S.raw.tools+'">',t+='<div class="'+S.raw.controls+'">',aa.gallery.active&&(t+='<button type="button" class="'+[S.raw.control,S.raw.control_previous].join(" ")+'">'+aa.labels.previous+"</button>",t+='<button type="button" class="'+[S.raw.control,S.raw.control_next].join(" ")+'">'+aa.labels.next+"</button>"),aa.isMobile&&aa.isTouch&&(t+='<button type="button" class="'+[S.raw.caption_toggle].join(" ")+'">'+aa.labels.captionClosed+"</button>"),t+="</div>",t+='<div class="'+S.raw.meta+'">',aa.gallery.active&&(t+='<p class="'+S.raw.position+'"',aa.gallery.total<1&&(t+=' style="display: none;"'),t+=">",t+='<span class="'+S.raw.position_current+'">'+(aa.gallery.index+1)+"</span> ",t+=aa.labels.count,t+=' <span class="'+S.raw.position_total+'">'+(aa.gallery.total+1)+"</span>",t+="</p>"),t+='<div class="'+S.raw.caption+'">',t+=aa.formatter.call(e,d),t+="</div></div>",t+="</div>"),t+="</div></div></div>",Y.append(t),aa.$overlay=a(S.overlay),aa.$lightbox=a(S.base),aa.$close=a(S.close),aa.$container=a(S.container),aa.$content=a(S.content),aa.$tools=a(S.tools),aa.$meta=a(S.meta),aa.$position=a(S.position),aa.$caption=a(S.caption),aa.$controlBox=a(S.controls),aa.$controls=a(S.control),aa.isMobile?(aa.paddingVertical=aa.$close.outerHeight(),aa.paddingHorizontal=0,aa.mobilePaddingVertical=parseInt(aa.$content.css("paddingTop"),10)+parseInt(aa.$content.css("paddingBottom"),10),aa.mobilePaddingHorizontal=parseInt(aa.$content.css("paddingLeft"),10)+parseInt(aa.$content.css("paddingRight"),10)):(aa.paddingVertical=parseInt(aa.$lightbox.css("paddingTop"),10)+parseInt(aa.$lightbox.css("paddingBottom"),10),aa.paddingHorizontal=parseInt(aa.$lightbox.css("paddingLeft"),10)+parseInt(aa.$lightbox.css("paddingRight"),10),aa.mobilePaddingVertical=0,aa.mobilePaddingHorizontal=0),aa.contentHeight=aa.$lightbox.outerHeight()-aa.paddingVertical,aa.contentWidth=aa.$lightbox.outerWidth()-aa.paddingHorizontal,aa.controlHeight=aa.$controls.outerHeight(),m(),aa.gallery.active&&(aa.$lightbox.addClass(T.has_controls),F()),X.on(U.keyDown,G),Y.on(U.click,[S.overlay,S.close].join(", "),j),aa.gallery.active&&aa.$lightbox.on(U.click,S.control,E),aa.isMobile&&aa.isTouch&&aa.$lightbox.on(U.click,S.caption_toggle,o),aa.$lightbox.fsTransition({property:"opacity"},function(){k?r(g):l?B(g):n?J(g):p?H(g):q&&K(aa.$object)}).addClass(S.raw.open),aa.$overlay.addClass(S.raw.open)}}function i(a){"object"!=typeof a&&(aa.targetHeight=arguments[0],aa.targetWidth=arguments[1]),"element"===aa.type?L(aa.$content.find("> :first-child")):"image"===aa.type?x():"video"===aa.type&&C(),l()}function j(a){V.killEvent(a),aa&&(aa.$lightbox.fsTransition("destroy"),aa.$container.fsTransition("destroy"),s(),aa.$lightbox.addClass(S.raw.animating).fsTransition({property:"opacity"},function(){"undefined"!=typeof aa.$inlineTarget&&aa.$inlineTarget.length&&I(),aa.$lightbox.off(U.namespace),aa.$container.off(U.namespace),X.off(U.keyDown),Y.off(U.namespace),aa.$overlay.remove(),aa.$lightbox.remove(),aa=null,X.trigger(U.close)}),aa.$lightbox.removeClass(S.raw.open),aa.$overlay.removeClass(S.raw.open),aa.isMobile&&Z.removeClass(T.lock))}function k(){{var a=n();aa.isMobile?0:aa.duration}aa.isMobile||aa.$controls.css({marginTop:(aa.contentHeight-aa.controlHeight-aa.metaHeight)/2}),aa.$lightbox.fsTransition({property:aa.contentHeight!==aa.oldContentHeight?"height":"width"},function(){aa.$container.fsTransition({property:"opacity"},function(){aa.$lightbox.removeClass(S.raw.animating),aa.isAnimating=!1}),aa.$lightbox.removeClass(S.raw.loading),aa.visible=!0,X.trigger(U.open),aa.gallery.active&&D()}),aa.isMobile||aa.$lightbox.css({height:aa.contentHeight+aa.paddingVertical,width:aa.contentWidth+aa.paddingHorizontal,top:aa.fixed?0:a.top});var b=aa.oldContentHeight!==aa.contentHeight||aa.oldContentWidth!==aa.contentWidth;(aa.isMobile||!b)&&aa.$lightbox.fsTransition("resolve"),aa.oldContentHeight=aa.contentHeight,aa.oldContentWidth=aa.contentWidth,aa.isMobile&&Z.addClass(T.lock)}function l(){if(aa.visible&&!aa.isMobile){var a=n();aa.$controls.css({marginTop:(aa.contentHeight-aa.controlHeight-aa.metaHeight)/2}),aa.$lightbox.css({height:aa.contentHeight+aa.paddingVertical,width:aa.contentWidth+aa.paddingHorizontal,top:aa.fixed?0:a.top})}}function m(){var a=n();aa.$lightbox.css({top:aa.fixed?0:a.top})}function n(){if(aa.isMobile)return{left:0,top:0};var a={left:(b.windowWidth-aa.contentWidth-aa.paddingHorizontal)/2,top:aa.top<=0?(b.windowHeight-aa.contentHeight-aa.paddingVertical)/2:aa.top};return aa.fixed!==!0&&(a.top+=X.scrollTop()),a}function o(a){V.killEvent(a),aa.captionOpen?p():(aa.$lightbox.addClass(S.raw.caption_open).find(S.caption_toggle).text(aa.labels.captionOpen),aa.captionOpen=!0)}function p(){aa.$lightbox.removeClass(S.raw.caption_open).find(S.caption_toggle).text(aa.labels.captionClosed),aa.captionOpen=!1}function q(){var a=this.attr("title"),b=void 0!==a&&a?a.replace(/^\s+|\s+$/g,""):!1;return b?'<p class="caption">'+b+"</p>":""}function r(b){aa.hasScaled=!1,aa.$imageContainer=a('<div class="'+S.raw.image_container+'"><img></div>'),aa.$image=aa.$imageContainer.find("img"),aa.$image.one(U.load,function(){var a=N(aa.$image);aa.naturalHeight=a.naturalHeight,aa.naturalWidth=a.naturalWidth,aa.retina&&(aa.naturalHeight/=2,aa.naturalWidth/=2),aa.$content.prepend(aa.$imageContainer),""===aa.$caption.html()?(aa.$caption.hide(),aa.$lightbox.removeClass(T.has_caption)):(aa.$caption.show(),aa.$lightbox.addClass(T.has_caption)),x(),k(),aa.touch&&(t(),v({scale:1,deltaX:0,deltaY:0}),w(),aa.$container.fsTouch({pan:!0,scale:!0}).on(U.scaleStart,u).on(U.scaleEnd,w).on(U.scale,v))}).error(M).attr("src",b).addClass(S.raw.image),(aa.$image[0].complete||4===aa.$image[0].readyState)&&aa.$image.trigger(U.load)}function s(){aa.$image&&aa.$image.length&&aa.$container.fsTouch("destroy")}function t(){aa.scalePosition=aa.$imageContainer.position(),aa.scaleY=aa.scalePosition.top,aa.scaleX=aa.scalePosition.left,aa.scaleHeight=aa.$image.outerHeight(),aa.scaleWidth=aa.$image.outerWidth()}function u(){t(),aa.$lightbox.removeClass(S.raw.animating)}function v(a){aa.targetContainerY=aa.scaleY+a.deltaY,aa.targetContainerX=aa.scaleX+a.deltaX,aa.targetImageHeight=aa.scaleHeight*a.scale,aa.targetImageWidth=aa.scaleWidth*a.scale,aa.targetImageHeight<aa.scaleMinHeight&&(aa.targetImageHeight=aa.scaleMinHeight),aa.targetImageHeight>aa.scaleMaxHeight&&(aa.targetImageHeight=aa.scaleMaxHeight),aa.targetImageWidth<aa.scaleMinWidth&&(aa.targetImageWidth=aa.scaleMinWidth),aa.targetImageWidth>aa.scaleMaxWidth&&(aa.targetImageWidth=aa.scaleMaxWidth),aa.hasScaled=!0,aa.isScaling=!0,aa.$imageContainer.css({top:aa.targetContainerY,left:aa.targetContainerX}),aa.$image.css({height:aa.targetImageHeight,width:aa.targetImageWidth,top:-(aa.targetImageHeight/2),left:-(aa.targetImageWidth/2)})}function w(){t(),aa.isScaling=!1;var a=aa.$container.outerHeight()-aa.metaHeight,b=aa.$container.outerWidth();aa.scaleMinY=a-aa.scaleHeight/2,aa.scaleMinX=b-aa.scaleWidth/2,aa.scaleMaxY=aa.scaleHeight/2,aa.scaleMaxX=aa.scaleWidth/2,aa.scaleHeight<a?aa.scalePosition.top=a/2:(aa.scalePosition.top<aa.scaleMinY&&(aa.scalePosition.top=aa.scaleMinY),aa.scalePosition.top>aa.scaleMaxY&&(aa.scalePosition.top=aa.scaleMaxY)),aa.scaleWidth<b?aa.scalePosition.left=b/2:(aa.scalePosition.left<aa.scaleMinX&&(aa.scalePosition.left=aa.scaleMinX),aa.scalePosition.left>aa.scaleMaxX&&(aa.scalePosition.left=aa.scaleMaxX)),aa.$lightbox.addClass(S.raw.animating),aa.$imageContainer.css({left:aa.scalePosition.left,top:aa.scalePosition.top})}function x(){if(aa.$image){var a=0;for(aa.windowHeight=aa.viewportHeight=b.windowHeight-aa.mobilePaddingVertical-aa.paddingVertical,aa.windowWidth=aa.viewportWidth=b.windowWidth-aa.mobilePaddingHorizontal-aa.paddingHorizontal,aa.contentHeight=1/0,aa.contentWidth=1/0,aa.imageMarginTop=0,aa.imageMarginLeft=0;aa.contentHeight>aa.viewportHeight&&2>a;)aa.imageHeight=0===a?aa.naturalHeight:aa.$image.outerHeight(),aa.imageWidth=0===a?aa.naturalWidth:aa.$image.outerWidth(),aa.metaHeight=0===a?0:aa.metaHeight,aa.spacerHeight=0===a?0:aa.spacerHeight,0===a&&(aa.ratioHorizontal=aa.imageHeight/aa.imageWidth,aa.ratioVertical=aa.imageWidth/aa.imageHeight,aa.isWide=aa.imageWidth>aa.imageHeight),aa.imageHeight<aa.minHeight&&(aa.minHeight=aa.imageHeight),aa.imageWidth<aa.minWidth&&(aa.minWidth=aa.imageWidth),aa.isMobile?(aa.isTouch?(aa.$controlBox.css({width:b.windowWidth}),aa.spacerHeight=aa.$controls.outerHeight(!0)):(aa.$tools.css({width:b.windowWidth}),aa.spacerHeight=aa.$tools.outerHeight(!0)),aa.contentHeight=aa.viewportHeight,aa.contentWidth=aa.viewportWidth,y(),aa.imageMarginTop=(aa.contentHeight-aa.targetImageHeight-aa.spacerHeight)/2,aa.imageMarginLeft=(aa.contentWidth-aa.targetImageWidth)/2):(0===a&&(aa.viewportHeight-=aa.margin+aa.paddingVertical,aa.viewportWidth-=aa.margin+aa.paddingHorizontal),aa.viewportHeight-=aa.metaHeight,y(),aa.contentHeight=aa.targetImageHeight,aa.contentWidth=aa.targetImageWidth),aa.isMobile||aa.isTouch||aa.$meta.css({width:aa.contentWidth}),aa.hasScaled||(aa.$image.css({height:aa.targetImageHeight,width:aa.targetImageWidth}),aa.$image.css(aa.touch?{top:-(aa.targetImageHeight/2),left:-(aa.targetImageWidth/2)}:{marginTop:aa.imageMarginTop,marginLeft:aa.imageMarginLeft})),aa.isMobile||(aa.metaHeight=aa.$meta.outerHeight(!0),aa.contentHeight+=aa.metaHeight),a++;aa.touch&&(aa.scaleMinHeight=aa.targetImageHeight,aa.scaleMinWidth=aa.targetImageWidth,aa.scaleMaxHeight=aa.naturalHeight,aa.scaleMaxWidth=aa.naturalWidth)}}function y(){var a=aa.isMobile?aa.contentHeight-aa.spacerHeight:aa.viewportHeight,b=aa.isMobile?aa.contentWidth:aa.viewportWidth;aa.isWide?(aa.targetImageWidth=b,aa.targetImageHeight=aa.targetImageWidth*aa.ratioHorizontal,aa.targetImageHeight>a&&(aa.targetImageHeight=a,aa.targetImageWidth=aa.targetImageHeight*aa.ratioVertical)):(aa.targetImageHeight=a,aa.targetImageWidth=aa.targetImageHeight*aa.ratioVertical,aa.targetImageWidth>b&&(aa.targetImageWidth=b,aa.targetImageHeight=aa.targetImageWidth*aa.ratioHorizontal)),(aa.targetImageWidth>aa.imageWidth||aa.targetImageHeight>aa.imageHeight)&&(aa.targetImageHeight=aa.imageHeight,aa.targetImageWidth=aa.imageWidth),(aa.targetImageWidth<aa.minWidth||aa.targetImageHeight<aa.minHeight)&&(aa.targetImageWidth<aa.minWidth?(aa.targetImageWidth=aa.minWidth,aa.targetImageHeight=aa.targetImageWidth*aa.ratioHorizontal):(aa.targetImageHeight=aa.minHeight,aa.targetImageWidth=aa.targetImageHeight*aa.ratioVertical))}function z(a){return"//www.youtube.com/embed/"+a[1]}function A(a){return"//player.vimeo.com/video/"+a[3]}function B(b){var c=O(b),d=b.split("?");c?(d.length>=2&&(c+="?"+d.slice(1)[0].trim()),aa.$videoWrapper=a('<div class="'+S.raw.video_wrapper+'"></div>'),aa.$video=a('<iframe class="'+S.raw.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),aa.$video.attr("src",c).addClass(S.raw.video).prependTo(aa.$videoWrapper),aa.$content.prepend(aa.$videoWrapper),C(),k()):M()}function C(){aa.windowHeight=aa.viewportHeight=b.windowHeight-aa.mobilePaddingVertical-aa.paddingVertical,aa.windowWidth=aa.viewportWidth=b.windowWidth-aa.mobilePaddingHorizontal-aa.paddingHorizontal,aa.videoMarginTop=0,aa.videoMarginLeft=0,aa.isMobile?(aa.isTouch?(aa.$controlBox.css({width:b.windowWidth}),aa.spacerHeight=aa.$controls.outerHeight(!0)):(aa.$tools.css({width:b.windowWidth}),aa.spacerHeight=aa.$tools.outerHeight(!0)),aa.viewportHeight-=aa.spacerHeight,aa.targetVideoWidth=aa.viewportWidth,aa.targetVideoHeight=aa.targetVideoWidth*aa.videoRatio,aa.targetVideoHeight>aa.viewportHeight&&(aa.targetVideoHeight=aa.viewportHeight,aa.targetVideoWidth=aa.targetVideoHeight/aa.videoRatio),aa.videoMarginTop=(aa.viewportHeight-aa.targetVideoHeight)/2,aa.videoMarginLeft=(aa.viewportWidth-aa.targetVideoWidth)/2):(aa.viewportHeight=aa.windowHeight-aa.margin,aa.viewportWidth=aa.windowWidth-aa.margin,aa.targetVideoWidth=aa.videoWidth>aa.viewportWidth?aa.viewportWidth:aa.videoWidth,aa.targetVideoWidth<aa.minWidth&&(aa.targetVideoWidth=aa.minWidth),aa.targetVideoHeight=aa.targetVideoWidth*aa.videoRatio,aa.contentHeight=aa.targetVideoHeight,aa.contentWidth=aa.targetVideoWidth),aa.isMobile||aa.isTouch||aa.$meta.css({width:aa.contentWidth}),aa.$videoWrapper.css({height:aa.targetVideoHeight,width:aa.targetVideoWidth,marginTop:aa.videoMarginTop,marginLeft:aa.videoMarginLeft}),aa.isMobile||(aa.metaHeight=aa.$meta.outerHeight(!0),aa.contentHeight=aa.targetVideoHeight+aa.metaHeight)}function D(){var b="";aa.gallery.index>0&&(b=aa.gallery.$items.eq(aa.gallery.index-1).attr("href"),O(b)||a('<img src="'+b+'">')),aa.gallery.index<aa.gallery.total&&(b=aa.gallery.$items.eq(aa.gallery.index+1).attr("href"),O(b)||a('<img src="'+b+'">'))}function E(b){V.killEvent(b);var c=a(b.currentTarget);aa.isAnimating||c.hasClass(S.raw.control_disabled)||(aa.isAnimating=!0,s(),p(),aa.gallery.index+=c.hasClass(S.raw.control_next)?1:-1,aa.gallery.index>aa.gallery.total&&(aa.gallery.index=aa.infinite?0:aa.gallery.total),aa.gallery.index<0&&(aa.gallery.index=aa.infinite?aa.gallery.total:0),aa.$lightbox.addClass(S.raw.animating),aa.$container.fsTransition({property:"opacity"},function(){"undefined"!=typeof aa.$imageContainer&&aa.$imageContainer.remove(),"undefined"!=typeof aa.$videoWrapper&&aa.$videoWrapper.remove(),aa.$el=aa.gallery.$items.eq(aa.gallery.index),aa.$caption.html(aa.formatter.call(aa.$el,aa)),aa.$position.find(S.position_current).html(aa.gallery.index+1);var a=aa.$el.attr("href"),b=O(a);b?(aa.type="video",B(a)):(aa.type="image",r(a)),F()}),aa.$lightbox.addClass(S.raw.loading))}function F(){aa.$controls.removeClass(S.raw.control_disabled),aa.infinite||(0===aa.gallery.index&&aa.$controls.filter(S.control_previous).addClass(T.control_disabled),aa.gallery.index===aa.gallery.total&&aa.$controls.filter(S.control_next).addClass(T.control_disabled))}function G(a){!aa.gallery.active||37!==a.keyCode&&39!==a.keyCode?27===a.keyCode&&aa.$close.trigger(U.click):(V.killEvent(a),aa.$controls.filter(37===a.keyCode?S.control_previous:S.control_next).trigger(U.click))}function H(b){aa.$inlineTarget=a(b),aa.$inlineContents=aa.$inlineTarget.children().detach(),K(aa.$inlineContents)}function I(){aa.$inlineTarget.append(aa.$inlineContents.detach())}function J(b){b+=b.indexOf("?")>-1?"&"+aa.requestKey+"=true":"?"+aa.requestKey+"=true";var c=a('<iframe class="'+S.raw.iframe+'" src="'+b+'"></iframe>');K(c)}function K(a){aa.$content.append(a),L(a),k()}function L(a){aa.windowHeight=b.windowHeight-aa.mobilePaddingVertical-aa.paddingVertical,aa.windowWidth=b.windowWidth-aa.mobilePaddingHorizontal-aa.paddingHorizontal,aa.objectHeight=a.outerHeight(!0),aa.objectWidth=a.outerWidth(!0),aa.targetHeight=aa.targetHeight||(aa.$el?aa.$el.data(Q+"-height"):null),aa.targetWidth=aa.targetWidth||(aa.$el?aa.$el.data(Q+"-width"):null),aa.maxHeight=aa.windowHeight<0?aa.minHeight:aa.windowHeight,aa.isIframe=a.is("iframe"),aa.objectMarginTop=0,aa.objectMarginLeft=0,aa.isMobile||(aa.windowHeight-=aa.margin,aa.windowWidth-=aa.margin),aa.contentHeight=aa.targetHeight?aa.targetHeight:aa.isIframe||aa.isMobile?aa.windowHeight:aa.objectHeight,aa.contentWidth=aa.targetWidth?aa.targetWidth:aa.isIframe||aa.isMobile?aa.windowWidth:aa.objectWidth,(aa.isIframe||aa.isObject)&&aa.isMobile?(aa.contentHeight=aa.windowHeight,aa.contentWidth=aa.windowWidth):aa.isObject&&(aa.contentHeight=aa.contentHeight>aa.windowHeight?aa.windowHeight:aa.contentHeight,aa.contentWidth=aa.contentWidth>aa.windowWidth?aa.windowWidth:aa.contentWidth)}function M(){var b=a('<div class="'+S.raw.error+'"><p>Error Loading Resource</p></div>');aa.type="element",aa.$tools.remove(),aa.$image.off(U.namespace),K(b)}function N(a){var b=a[0],c=new Image;return"undefined"!=typeof b.naturalHeight?{naturalHeight:b.naturalHeight,naturalWidth:b.naturalWidth}:"img"===b.tagName.toLowerCase()?(c.src=b.src,{naturalHeight:c.height,naturalWidth:c.width}):!1}function O(a){var b,c=aa.videoFormatter;for(var d in c)if(c.hasOwnProperty(d)&&(b=a.match(c[d].pattern),null!==b))return c[d].format.call(aa,b);return!1}var P=b.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)$/i,fixed:!1,formatter:q,infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption"},margin:50,minHeight:100,minWidth:100,mobile:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",top:0,touch:!0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:z},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:A}},videoRatio:.5625,videoWidth:800},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","caption_toggle","caption","caption_open","has_controls","has_caption","iframe","error","lock"],events:{open:"open",close:"close"},methods:{_setup:c,_construct:e,_destruct:f,_resize:d,resize:i},utilities:{_initialize:g,close:j}}),Q=P.namespace,R=P.defaults,S=P.classes,T=S.raw,U=P.events,V=P.functions,W=b.window,X=b.$window,Y=null,Z=null,$=!1,_=!1,aa=null});