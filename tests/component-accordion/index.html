<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
	<meta charset="utf-8" />
	<title>The University of British Columbia | ACCORDION TEST</title>
	<meta name="description" content="TEST" />
	<meta name="author" content="Someone" />
	<meta name="handheldfriendly" content="true" />
	<meta name="mobileoptimized" content="320" />
	<meta name="viewport" content="width=device-width" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link rel="shortcut icon" href="https://cdn.ubc.ca/clf/7.0.4/img/favicon.ico" />
	<link rel="stylesheet" href="../css/styles-tailwind.css" />
	<link rel="stylesheet" href="../css/base/base.typography.css" />
	<style>
		[aria-hidden='true'] {
			display: none;
		}
		.accordion__heading {
			margin-top: 1rem;
			line-height: 1.5rem;
		}
		.accordion__trigger {
			text-align: left;
			width: 100%;
			font-size: 1.125rem;
			padding-top: .5rem;
			padding-right: 1rem;
			padding-bottom: .5rem;
			padding-left: 1rem;
			line-height: 1.5;
			border-width: 1px;
		}
	</style>
</head>
<body class="">
	<main style="padding: 0 .5rem;">
		<h1 class="heading-three">Accordions</h1>
		<section class="">
			<p class="text-lead">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
			<hr />
		</section>
		<section class="accordion-section">
			<div class="accordion" role="presentation">
				<div class="js-accordion__panel">
					<h3 class="accordion__heading">
						<button class="accordion__trigger border bg-grey-light text-lg text-left w-full px-4 py-2 font-sans leading-normal" aria-controls="accordion__content_1" aria-expanded="false" tabindex="0" id="accordion__title_1" aria-selected="false">I’m tall when I’m young and I’m short when I’m old. What am I?
						</button>
					</h3>
					<div class="accordion__content" id="accordion__content_1" role="region" aria-hidden="true" aria-labelledby="accordion__title_1">
						<p>A candle</p>
					</div>
				</div>
				<div class="js-accordion__panel">
					<h3 class="accordion__heading">
						<button class="accordion__trigger" aria-controls="accordion__content_2" aria-expanded="false" tabindex="0" id="accordion__title_2" aria-selected="false">Which weighs more, a pound of feathers or a pound of bricks?
						</button>
					</h3>
					<div class="accordion__content" id="accordion__content_2" role="region" aria-hidden="true" aria-labelledby="accordion__title_2">
						<p>Neither, they both weigh one pound.</p>
					</div>
				</div>
				<div class="js-accordion__panel">
					<h3 class="accordion__heading">
						<button class="accordion__trigger" aria-controls="accordion__content_3" aria-expanded="false" tabindex="0" id="accordion__title_3" aria-selected="false">The more you take, the more you leave behind. What are they?
						</button>
					</h3>
					<div class="accordion__content" id="accordion__content_3" role="region" aria-hidden="true" aria-labelledby="accordion__title_3">
						<p>Footprints.</p>
					</div>
				</div>
			</div>
		</section>
	</main>
	<footer style="padding: 0 .5rem;">
		<p class="text-small">Some footer text</p>
	</footer>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
	<script>
	;(function ( $, doc ) {
		'use strict';

		var accordion = $('.accordion__trigger');

			accordion.on('click',function(event) {
			//check if the panel is already expanded
			var isExpanded = $(this).attr('aria-expanded') == 'true';
			var accordionContent = '#' + $(this).attr('aria-controls');

			if(isExpanded) {
				//hide the content panel and mark expanded as false
				$(accordionContent).attr('aria-hidden',true).addClass('hidden');
				$(this).attr('aria-expanded',false);
			} else {
				$(accordionContent).attr('aria-hidden',false).removeClass('hidden');
				$(this).attr('aria-expanded', true);
			}
			event.preventDefault();
			});

			accordion.on('keydown',function(event){
			//navigate up and down
				if (event.keyCode == 40) {
					$(this).closest('.js-accordion__panel').next().find(accordion).focus();
				}
				if (event.keyCode == 38) {
				$(this).closest('.js-accordion__panel').prev().find(accordion).focus();
				}
			});

		})( jQuery, this.document );
	</script>
</body>
</html>
