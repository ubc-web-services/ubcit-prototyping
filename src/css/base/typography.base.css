/** @define typography */

/*
* This file contains default typographic styles for text elements.
*/

html {
  color: var(--text-color);
  font-family: var(--text-font-stack);
  font-size: 100%;
}

body {
  font-family: var(--text-font-stack);
  font-size: var(--base-font-size);
  line-height: var(--line-height-base);
}

/* Headings */
h1,
.h1 {
  font-size: var(--text-4xl);
  margin-top: calc(var(--text-4xl) * var(--scale-ratio));
  line-height: calc(1 + var(--line-height-tight));
}

h2,
.h2 {
  font-size: var(--text-3xl);
  margin-top: calc(var(--text-3xl) * var(--scale-ratio));
  line-height: calc(1 + var(--line-height-tight));
}

h3,
.h3 {
  font-size: var(--text-2xl);
  margin-top: calc(var(--text-2xl) * var(--scale-ratio));
  line-height: calc(1 + var(--line-height-tight) * 1.2);
}

h4,
.h4 {
  font-size: var(--text-xl);
  margin-top: calc(var(--text-xl) * var(--scale-ratio));
  line-height: calc(1 + var(--line-height-tight) * 1.3);
}

h5,
.h5 {
  font-size: var(--text-lg);
  margin-top: calc(var(--text-lg) * var(--scale-ratio));
  line-height: calc(1 + var(--line-height-tight) * 1.4);
}

h6,
.h6 {
  font-size: var(--text-base);
  margin-top: calc(var(--text-base) * var(--scale-ratio));
  line-height: var(--line-height-base);
  font-weight: 600;
}

/* heading siblings */
h1 + h2 {
  margin-top: calc(var(--text-3xl) * var(--scale-ratio) * 0.6);
}

h2 + h3 {
  margin-top: calc(var(--text-2xl) * var(--scale-ratio) * 0.6);
}

h3 + h4 {
  margin-top: calc(var(--text-xl) * var(--scale-ratio) * 0.6);
}

h4 + h5 {
  margin-top: calc(var(--text-lg) * var(--scale-ratio) * 0.6);
}

h5 + h6 {
  margin-top: calc(var(--text-base) * var(--scale-ratio) * 0.6);
}

/* Body text */
p {
  margin-top: calc(var(--text-base) * var(--scale-ratio));
  line-height: var(--line-height-base);
}

blockquote {
  font-size: var(--text-lg);
  margin-top: calc(var(--text-xl) * var(--scale-ratio));
  margin-bottom: calc(var(--text-xl) * var(--scale-ratio));
  line-height: var(--line-height-base);
  padding-left: calc(var(--text-base) * var(--scale-ratio));
}

pre,
code {
  line-height: var(--line-height-base);
}

pre {
  margin-top: calc(var(--text-base) * var(--scale-ratio));
  margin-bottom: calc(var(--text-base) * var(--scale-ratio));
  padding: calc(var(--text-base) * var(--scale-ratio));
}

/* Lists */
ul,
ol {
  margin-top: calc(var(--text-base) * var(--scale-ratio));
  margin-bottom: calc(var(--text-base) * var(--scale-ratio));
  line-height: var(--line-height-base);
  padding-left: calc(var(--text-base) * var(--scale-ratio) * 1.5);
}

li {
  margin-top: calc(var(--text-xs) / var(--scale-ratio));
}

/* Nested lists */
ul ul,
ul ol,
ol ul,
ol ol {
  margin-top: calc(var(--text-base) / var(--scale-ratio));
  margin-bottom: calc(var(--text-base) / var(--scale-ratio));
}

/* Definition lists */
dl {
  margin-top: calc(var(--text-base) * var(--scale-ratio));
  line-height: var(--line-height-base);
}

dt {
  margin-top: calc(var(--text-base) / var(--scale-ratio));
}

dd {
  margin-top: calc(var(--text-base) / var(--scale-ratio) / var(--scale-ratio));
  margin-left: calc(var(--text-base) * var(--scale-ratio));
}

/* Small text */
small {
  font-size: var(--text-sm);
  margin-top: calc(var(--text-sm) * var(--scale-ratio));
  line-height: var(--line-height-base);
}

hr {
  margin-top: calc(var(--text-xl) * var(--scale-ratio));
  margin-bottom: calc(var(--text-xl) * var(--scale-ratio));
}

/* Remove top margin from first child */
:where(
    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    ul,
    ol,
    dl,
    dt,
    blockquote,
    pre,
    form,
    table
  ):first-child,
nav li {
  margin-top: 0;
}

/** decorative styles **/
/* heading elements */
h1,
.h1,
h2,
.h2,
h3,
.h3,
h4,
.h4,
h5,
.h5,
h6,
.h6 {
  @apply font-semibold text-ubc-blue;
}

.heading-display,
.heading-display h1 {
  @apply text-5xl font-semibold;
  line-height: 1.2;
}

@media (max-width: 479px) {
  .heading-display,
  .heading-display h1 {
    @apply text-2xl;
  }
}

/* responsive type (20px min to 46px max) - see https://modern-fluid-typography.vercel.app for configuration */
.heading-responsive {
  font-size: clamp(1.25rem, 2vw + 1rem, 3rem);
}

/* text and list elements */
b,
strong {
  font-weight: 600;
}

code,
kbd,
pre,
samp {
  font-family: var(--code-font-stack);
  font-feature-settings: normal;
  font-variation-settings: normal;
}

kbd,
code {
  @apply py-[.125em] px-[.25em] bg-grey-100;
}

code,
kbd,
sub,
sup,
samp,
.text--code {
  position: relative;
  vertical-align: baseline;
}

pre {
  @apply relative p-4 border rounded-sm bg-grey-100 border-grey-300 text-grey-800;
  direction: ltr;
  font-style: normal;
  min-width: 200px;
  tab-size: 4;
  text-align: left;
  white-space: pre-wrap;
}

pre code {
  background: unset;
  border-radius: 0;
  padding: 0;
}

kbd {
  @apply inline-block text-sm border shadow-sm border-grey-300;
  text-wrap: nowrap;
  border-radius: 3px;
  font-weight: 600;
  line-height: 1;
}

sup {
  top: -0.5em;
}

sub {
  bottom: -0.25em;
}

/* Blockquote */
blockquote {
  @apply relative p-12 mx-auto text-2xl italic;
  max-width: 60ch;
  font-family: var(--alternate-font-stack);
}

blockquote::before {
  @apply absolute top-12 left-0 h-8 w-8 bg-center bg-[length:2rem_2rem] bg-no-repeat bg-[url("../img/svg/icon-quote-open--ubc-blue.svg")] bg-transparent;
  content: "";
}

.text-cite {
  @apply text-sm not-italic font-normal text-right uppercase;
}

.text-cite::before {
  content: "â€”";
  padding-right: 0.25em;
}

.text-cite span {
  display: block;
}

.blockquote--inverse,
.blockquote--inverse .text-cite {
  @apply text-left bg-transparent text-ubc-blue;
}

/* horizontal rule element */
hr,
.hr {
  @apply border-t border-grey-300;
}

.hr--styled {
  @apply border-t border-ubc-blue;
  max-width: 7rem;
  margin-top: calc(var(--text-base) * var(--scale-ratio));
  margin-bottom: calc(var(--text-base) * var(--scale-ratio));
}

/* Text utilities */
.text-lead {
  @apply text-2xl;
  margin-top: calc(var(--text-2xl) * var(--scale-ratio));
  margin-bottom: 0;
  font-family: var(--alternate-font-stack);
  line-height: var(--line-height-base);
  color: var(--color-primary);
}

.text-hug {
  margin-top: 0;
}

.text-uppercase {
  text-transform: uppercase;
}

.text-lowercase {
  text-transform: lowercase;
}

.text-capitalize {
  text-transform: capitalize;
}

/* we use the 'ch' unit, which is the width of the '0' [zero] character in the current font. */
/* https://meyerweb.com/eric/thoughts/2018/06/28/what-is-the-css-ch-unit/ */
.text-measure {
  max-width: 60ch;
  display: block;
}

.text-measure-sm {
  max-width: 50ch;
  display: block;
}

.text-measure-lg {
  max-width: 70ch;
  display: block;
}

/* allows text to be hidden without altering layout */
.text-hide {
  height: 0;
  opacity: 0;
}

/* indent styles */
.indented {
  @apply ml-8;
}

[dir="rtl"] .indented {
  @apply ml-0 mr-8;
}
